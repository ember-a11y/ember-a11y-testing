{"version":3,"file":"format-violation.js","sources":["../../src/test-support/format-violation.ts"],"sourcesContent":["import type { Result } from 'axe-core';\n\n/**\n * Formats the axe violation for human consumption\n *\n * @param {Partial<Result>} violation\n * @param {string[]} markup (optional) string of HTML relevant to the violation\n */\nexport default function formatViolation(\n  violation: Partial<Result>,\n  markup: string[],\n) {\n  if (!violation.impact || !violation.help || !violation.helpUrl) {\n    throw new Error(\n      'formatViolation called with improper structure of parameter: violation. Required properties: impact, help, helpUrl.',\n    );\n  }\n\n  let count = 1;\n  let formattedMarkup = '';\n\n  if (markup.length) {\n    count = markup.length;\n    formattedMarkup = ` Offending nodes are: \\n${markup.join('\\n')}`;\n  }\n\n  const plural = count === 1 ? '' : 's';\n  const violationCount = `Violated ${count} time${plural}.`;\n\n  return `[${violation.impact}]: ${violation.help} \\n${violationCount}${formattedMarkup}\\n${violation.helpUrl}`;\n}\n"],"names":["formatViolation","violation","markup","impact","help","helpUrl","Error","count","formattedMarkup","length","join","plural","violationCount"],"mappings":"AAEA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,eAAeA,CACrCC,SAA0B,EAC1BC,MAAgB,EAChB;AACA,EAAA,IAAI,CAACD,SAAS,CAACE,MAAM,IAAI,CAACF,SAAS,CAACG,IAAI,IAAI,CAACH,SAAS,CAACI,OAAO,EAAE;AAC9D,IAAA,MAAM,IAAIC,KAAK,CACb,qHACF,CAAC;AACH,EAAA;EAEA,IAAIC,KAAK,GAAG,CAAC;EACb,IAAIC,eAAe,GAAG,EAAE;EAExB,IAAIN,MAAM,CAACO,MAAM,EAAE;IACjBF,KAAK,GAAGL,MAAM,CAACO,MAAM;IACrBD,eAAe,GAAG,2BAA2BN,MAAM,CAACQ,IAAI,CAAC,IAAI,CAAC,CAAA,CAAE;AAClE,EAAA;EAEA,MAAMC,MAAM,GAAGJ,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,GAAG;AACrC,EAAA,MAAMK,cAAc,GAAG,CAAA,SAAA,EAAYL,KAAK,CAAA,KAAA,EAAQI,MAAM,CAAA,CAAA,CAAG;AAEzD,EAAA,OAAO,IAAIV,SAAS,CAACE,MAAM,CAAA,GAAA,EAAMF,SAAS,CAACG,IAAI,CAAA,GAAA,EAAMQ,cAAc,GAAGJ,eAAe,CAAA,EAAA,EAAKP,SAAS,CAACI,OAAO,CAAA,CAAE;AAC/G;;;;"}