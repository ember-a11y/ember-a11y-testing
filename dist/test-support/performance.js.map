{"version":3,"file":"performance.js","sources":["../../src/test-support/performance.ts"],"sourcesContent":["const HAS_PERFORMANCE =\n  window &&\n  typeof window.performance !== 'undefined' &&\n  typeof window.performance.mark === 'function' &&\n  typeof window.performance.measure === 'function';\n\n/**\n * Utility to add a performance marker.\n *\n * @param markName\n */\nexport function mark(markName: string) {\n  if (HAS_PERFORMANCE) {\n    performance.mark(markName);\n  }\n}\n\n/**\n * Utility to measure performance between the start and end markers.\n *\n * @param comment\n * @param startMark\n * @param endMark\n */\nexport function measure(comment: string, startMark: string, endMark: string) {\n  // `performance.measure` may fail if the mark could not be found.\n  // reasons a specific mark could not be found include outside code invoking `performance.clearMarks()`\n  try {\n    if (HAS_PERFORMANCE) {\n      performance.measure(comment, startMark, endMark);\n    }\n  } catch (e: unknown) {\n    console.warn(\n      'performance.measure could not be executed because of ',\n      // @ts-expect-error: this is fine\n      e.message,\n    );\n  }\n}\n\n/**\n * Utility to place end marker and measure performance.\n *\n * @param comment\n * @param startMark\n * @param endMark\n */\nexport function markEndAndMeasure(\n  comment: string,\n  startMark: string,\n  endMark: string,\n) {\n  if (HAS_PERFORMANCE) {\n    mark(endMark);\n    measure(comment, startMark, endMark);\n  }\n}\n"],"names":["HAS_PERFORMANCE","window","performance","mark","measure","markName","comment","startMark","endMark","e","console","warn","message","markEndAndMeasure"],"mappings":"AAAA,MAAMA,eAAe,GACnBC,MAAM,IACN,OAAOA,MAAM,CAACC,WAAW,KAAK,WAAW,IACzC,OAAOD,MAAM,CAACC,WAAW,CAACC,IAAI,KAAK,UAAU,IAC7C,OAAOF,MAAM,CAACC,WAAW,CAACE,OAAO,KAAK,UAAU;;AAElD;AACA;AACA;AACA;AACA;AACO,SAASD,IAAIA,CAACE,QAAgB,EAAE;AACrC,EAAA,IAAIL,eAAe,EAAE;AACnBE,IAAAA,WAAW,CAACC,IAAI,CAACE,QAAQ,CAAC;AAC5B,EAAA;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASD,OAAOA,CAACE,OAAe,EAAEC,SAAiB,EAAEC,OAAe,EAAE;AAC3E;AACA;EACA,IAAI;AACF,IAAA,IAAIR,eAAe,EAAE;MACnBE,WAAW,CAACE,OAAO,CAACE,OAAO,EAAEC,SAAS,EAAEC,OAAO,CAAC;AAClD,IAAA;EACF,CAAC,CAAC,OAAOC,CAAU,EAAE;IACnBC,OAAO,CAACC,IAAI,CACV,uDAAuD;AACvD;IACAF,CAAC,CAACG,OACJ,CAAC;AACH,EAAA;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,iBAAiBA,CAC/BP,OAAe,EACfC,SAAiB,EACjBC,OAAe,EACf;AACA,EAAA,IAAIR,eAAe,EAAE;IACnBG,IAAI,CAACK,OAAO,CAAC;AACbJ,IAAAA,OAAO,CAACE,OAAO,EAAEC,SAAS,EAAEC,OAAO,CAAC;AACtC,EAAA;AACF;;;;"}